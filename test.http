@host = http://localhost:8080
@accessToken = {{accessToken}}
@refreshToken = {{refreshToken}}
@adminAccessToken = {{adminAccessToken}}

### 서버 상태 확인
GET {{host}}/health

### 회원가입
POST {{host}}/auth/register
Content-Type: application/json

{
  "email": "newuser@example.com",
  "password": "Password123!",
  "name": "New User"
}

### 로그인
POST {{host}}/auth/login
Content-Type: application/json

{
  "email": "newuser@example.com",
  "password": "Password123!"
}

### 리프레시 토큰으로 재발급
POST {{host}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 로그아웃 (리프레시 + 액세스 함께 만료)
POST {{host}}/auth/logout
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### Google ID Token 로그인
POST {{host}}/auth/google
Content-Type: application/json

{
  "idToken": "{{googleIdToken}}"
}

### 사용자 정보 조회
GET {{host}}/users/me
Authorization: Bearer {{accessToken}}

### 사용자 정보 수정 (이름)
PATCH {{host}}/users/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "name": "Updated User Name"
}

### 비밀번호 변경
PATCH {{host}}/users/me/password
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "currentPassword": "Password123!",
  "newPassword": "NewPassword123!"
}

### 나의 출석 기록 조회
GET {{host}}/users/me/attendance
Authorization: Bearer {{accessToken}}

### 관리자 - 사용자 목록 조회
GET {{host}}/admin/users
Authorization: Bearer {{adminAccessToken}}

### 관리자 - 사용자 권한 변경
PATCH {{host}}/admin/users/1/role
Authorization: Bearer {{adminAccessToken}}
Content-Type: application/json

{
  "role": "ADMIN"
}

### 관리자 - 사용자 비활성화
PATCH {{host}}/admin/users/1/deactivate
Authorization: Bearer {{adminAccessToken}}

### 관리자 - 특정 사용자 출석 기록 조회
GET {{host}}/admin/users/1/attendance
Authorization: Bearer {{adminAccessToken}}

### 관리자 - 스터디 목록 조회 (페이지/필터)
GET {{host}}/admin/studies?page=1&size=10&status=RECRUITING
Authorization: Bearer {{adminAccessToken}}

### 관리자 - 전체 통계 요약
GET {{host}}/admin/stats/overview
Authorization: Bearer {{adminAccessToken}}

### 스터디 생성
POST {{host}}/studies
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "알고리즘 스터디",
  "description": "주 2회 온라인 스터디",
  "category": "CS",
  "maxMembers": 10
}

### 스터디 목록 조회 (검색/필터/정렬/페이지)
GET {{host}}/studies?q=알고&page=1&pageSize=10&sort=createdAt:desc&status=RECRUITING
Authorization: Bearer {{accessToken}}

### 내 스터디 목록 조회 (리더/멤버 필터)
GET {{host}}/studies/me?role=LEADER&status=RECRUITING
Authorization: Bearer {{accessToken}}

### 스터디 단건 조회
GET {{host}}/studies/1
Authorization: Bearer {{accessToken}}

### 스터디 수정
PATCH {{host}}/studies/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "알고리즘 스터디 2기",
  "description": "매주 토요일",
  "category": "CS",
  "maxMembers": 12
}

### 스터디 상태 변경 (RECRUITING/CLOSED)
PATCH {{host}}/studies/1/status
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "CLOSED"
}

### 스터디 삭제
DELETE {{host}}/studies/1
Authorization: Bearer {{accessToken}}

### 스터디 참가 신청
POST {{host}}/studies/1/join
Authorization: Bearer {{accessToken}}

### 스터디 세션 생성
POST {{host}}/studies/1/sessions
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "1주차 모임",
  "date": "2025-12-30T10:00:00.000Z"
}

### 스터디 세션 수정
PATCH {{host}}/studies/1/sessions/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "1주차 모임 - 변경",
  "date": "2026-01-02T10:00:00.000Z"
}

### 스터디 세션 삭제
DELETE {{host}}/studies/1/sessions/1
Authorization: Bearer {{accessToken}}

### 출석 등록/수정 (PRESENT/LATE/ABSENT)
POST {{host}}/studies/1/sessions/1/attendance
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "PRESENT"
}

### 출석 요약 조회 (리더 전용, 기간 필터)
GET {{host}}/studies/1/attendance/summary?from=2025-01-01&to=2025-12-31
Authorization: Bearer {{accessToken}}

### 스터디 세션 목록 조회 (구성원 전용)
GET {{host}}/studies/1/sessions
Authorization: Bearer {{accessToken}}

### 스터디 세션 상세 조회 (구성원 전용)
GET {{host}}/studies/1/sessions/1
Authorization: Bearer {{accessToken}}

### 특정 세션 출석 내역 조회 (리더 전용)
GET {{host}}/studies/1/sessions/1/attendance
Authorization: Bearer {{accessToken}}

### 특정 회원의 출석 요약 조회 (구성원/리더 접근)
GET {{host}}/studies/1/attendance/users/1
Authorization: Bearer {{accessToken}}

### 스터디 구성원 목록 조회 (리더 전용, 페이지/상태 필터)
GET {{host}}/studies/1/members?page=1&pageSize=10&status=APPROVED
Authorization: Bearer {{accessToken}}

### 구성원 상태 변경 (리더 전용, APPROVED/PENDING/REJECTED)
PATCH {{host}}/studies/1/members/2/status
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "APPROVED"
}

### 구성원 제거 (리더 전용, 리더 제외)
DELETE {{host}}/studies/1/members/2
Authorization: Bearer {{accessToken}}

### 스터디 탈퇴 (리더 불가)
POST {{host}}/studies/1/members/leave
Authorization: Bearer {{accessToken}}

### 세션 출석 내역 조회 (리더 전용, 세션 ID 기준)
GET {{host}}/sessions/1/attendance
Authorization: Bearer {{accessToken}}
